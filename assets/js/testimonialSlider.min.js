!function(){var e=document.getElementById("bs-live-reload"),t=e.getAttribute("data-sseport"),n=e.getAttribute("data-lastchange"),a=!0,o=!1;"EventSource"in window?new EventSource("http://"+location.hostname+":"+t+"/").onmessage=function(e){var t=JSON.parse(e.data);"full"!=t.type?"css"==t.type&&$("link").each((function(){var e=$(this),n=document.createElement("a");n.href=e.attr("href");for(var r=0;r<t.targets.length;r++){var i="/"+t.targets[r];decodeURI(n.pathname)==i&&(a?e.attr("href",i+"?r"+Math.random()):o=!0)}})):a?window.location.reload():o=!0}:setInterval((function(){var e=new XMLHttpRequest;e.addEventListener("load",(function(){n!=this.responseText&&window.location.reload()})),e.open("GET","/bs-lastchange",!0),e.send()}),2e3);document.addEventListener("visibilitychange",(function(){document.hidden?a=!1:(a=!0,o&&window.location.reload())}))}();